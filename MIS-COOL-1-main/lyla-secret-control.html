<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ù†ØµØ© | Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ù„ÙŠØ§</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;900&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- Animate.css -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />

    <style>
      :root {
        --primary-blue: #3b82f6;
        --accent-purple: #8b5cf6;
        --bg-dark: #0a0f18;
        --card-bg: #1e293b;
        --text-white: #f8fafc;
        --danger: #ef4444;
        --success: #10b981;
        --warning: #f59e0b;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Tajawal", sans-serif;
        background-color: var(--bg-dark);
        color: var(--text-white);
        padding: 20px;
        display: flex;
        justify-content: center;
      }

      .admin-container {
        max-width: 1200px;
        width: 100%;
      }

      .header-admin {
        text-align: center;
        margin-bottom: 50px;
        animation: fadeInDown 1s;
      }

      .header-admin h1 {
        font-size: 2.5rem;
        background: linear-gradient(
          to left,
          var(--primary-blue),
          var(--accent-purple)
        );
        -webkit-background-lip: text;
        -webkit-text-fill-color: transparent;
      }

      .control-card {
        background: var(--card-bg);
        border-radius: 20px;
        padding: 30px;
        margin-bottom: 30px;
        border: 1px solid rgba(255, 255, 255, 0.05);
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
      }

      .section-title {
        font-size: 1.5rem;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: #94a3b8;
        font-size: 0.9rem;
      }

      input,
      select,
      textarea {
        width: 100%;
        padding: 12px 15px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        color: white;
        font-family: "Tajawal", sans-serif;
        font-size: 1rem;
        transition: all 0.3s;
      }

      input:focus,
      select:focus,
      textarea:focus {
        outline: none;
        border-color: var(--primary-blue);
        background: rgba(255, 255, 255, 0.1);
        box-shadow: 0 0 0 4px rgba(59, 130, 246, 0.1);
      }

      textarea {
        resize: vertical;
        min-height: 100px;
      }

      .upload-btn {
        width: 100%;
        padding: 15px;
        background: linear-gradient(
          45deg,
          var(--primary-blue),
          var(--accent-purple)
        );
        border: none;
        border-radius: 12px;
        color: white;
        font-weight: 700;
        font-size: 1.1rem;
        cursor: pointer;
        transition: all 0.3s;
        margin-top: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .upload-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(59, 130, 246, 0.3);
        filter: brightness(1.1);
      }

      .upload-btn:active {
        transform: translateY(0);
      }

      .upload-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      .data-list {
        margin-top: 30px;
      }

      .data-item {
        background: rgba(255, 255, 255, 0.03);
        padding: 15px 20px;
        border-radius: 15px;
        margin-bottom: 10px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border: 1px solid rgba(255, 255, 255, 0.05);
      }

      .delete-btn {
        background: rgba(239, 68, 68, 0.1);
        color: var(--danger);
        border: none;
        padding: 8px 12px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.3s;
      }

      .delete-btn:hover {
        background: var(--danger);
        color: white;
      }

      .grid-layout {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
      }

      @media (max-width: 768px) {
        .admin-container {
          padding: 10px;
        }

        .header-admin h1 {
          font-size: 1.8rem;
        }

        .control-card {
          padding: 20px;
        }
      }

      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <div class="admin-container">
      <!-- Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© -->
      <header class="header-admin">
        <i
          class="fas fa-user-shield"
          style="
            font-size: 3rem;
            color: var(--primary-blue);
            margin-bottom: 15px;
          "
        ></i>
        <h1>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³Ø±ÙŠØ©</h1>
        <p style="color: #94a3b8">
          Ø¥Ø¯Ø§Ø±Ø© Ù…Ø­ØªÙˆÙ‰ Ø¯ÙØ¹Ø© 2026 - ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
        </p>
      </header>

      <!-- Ù‚Ø³Ù… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ -->
      <section class="control-card animate__animated animate__fadeInUp">
        <h2 class="section-title">
          <i class="fas fa-plus-circle" style="color: var(--success)"></i>
          Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù…Ù†ØµØ©
        </h2>
        <form id="uploadForm" class="grid-layout">
          <div class="form-group">
            <label
              ><i class="fas fa-edit"></i> Ø§Ø³Ù… Ø§Ù„Ø¹Ù†ØµØ± (Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø£Ùˆ
              Ø§Ù„Ù…Ù„Ù)</label
            >
            <input
              type="text"
              id="itemName"
              placeholder="Ù…Ø«Ù„Ø§Ù‹: Ù…Ù„Ø²Ù…Ø© Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£ÙˆÙ„"
              required
            />
          </div>

          <div class="form-group">
            <label><i class="fas fa-link"></i> Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø­ØªÙˆÙ‰ (URL)</label>
            <input type="url" id="itemUrl" placeholder="https://..." required />
          </div>

          <div class="form-group">
            <label><i class="fas fa-layer-group"></i> Ù†ÙˆØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</label>
            <select id="itemType">
              <option value="files">Ù…Ù„Ù PDF / Ù…Ù„Ø²Ù…Ø©</option>
              <option value="videos">Ù…Ø­Ø§Ø¶Ø±Ø© ÙÙŠØ¯ÙŠÙˆ (YouTube)</option>
              <option value="exams">Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</option>
            </select>
          </div>

          <div class="form-group">
            <label><i class="fas fa-book"></i> Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„ØªØ§Ø¨Ø¹ Ù„Ù‡Ø§</label>
            <select id="itemSubject">
              <option value="tech_edu">ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„ØªØ¹Ù„ÙŠÙ…</option>
              <option value="cs_intro">Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨</option>
              <option value="digital_photo">Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„Ø±Ù‚Ù…ÙŠ</option>
              <option value="learning_res">Ù…ØµØ§Ø¯Ø± Ø§Ù„ØªØ¹Ù„Ù…</option>
              <option value="comm_skills">Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</option>
              <option value="edu_science">Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ©</option>
              <option value="curriculum">Ø§Ù„Ù…Ù†Ø§Ù‡Ø¬ ÙˆØªÙ†Ø¸ÙŠÙ…Ù‡Ø§</option>
              <option value="social_issues">Ù‚Ø¶Ø§ÙŠØ§ Ù…Ø¬ØªÙ…Ø¹ÙŠØ©</option>
            </select>
          </div>

          <button type="submit" class="upload-btn" style="grid-column: 1 / -1">
            <i class="fas fa-cloud-upload-alt"></i> Ø­ÙØ¸ ÙˆÙ†Ø´Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰
          </button>
        </form>
      </section>

      <!-- Ù‚Ø³Ù… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ -->
      <section
        class="control-card animate__animated animate__fadeInUp"
        style="
          animation-delay: 0.2s;
          border-right: 4px solid var(--accent-purple);
        "
      >
        <h2 class="section-title">
          <i
            class="fas fa-calendar-plus"
            style="color: var(--accent-purple)"
          ></i>
          Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
        </h2>
        <p style="color: #94a3b8; font-size: 0.9rem; margin-bottom: 20px">
          ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø£ÙƒØ«Ø± Ù…Ù† Ø¬Ø¯ÙˆÙ„ (Ø¬Ø¯ÙˆÙ„ Ø­ØµØµØŒ Ø¬Ø¯ÙˆÙ„ Ø§Ù…ØªØ­Ø§Ù†Ø§ØªØŒ Ø¥Ù„Ø®) ÙˆØ³ÙŠØ¸Ù‡Ø±
          Ø¨Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø°ÙŠ ØªØ­Ø¯Ø¯Ù‡.
        </p>

        <form id="scheduleForm" class="grid-layout">
          <div class="form-group">
            <label><i class="fas fa-heading"></i> Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„</label>
            <input
              type="text"
              id="scheduleTitle"
              placeholder="Ù…Ø«Ù„Ø§Ù‹: Ø¬Ø¯ÙˆÙ„ Ù…Ø­Ø§Ø¶Ø±Ø§Øª Ø´Ù‡Ø± ÙŠÙ†Ø§ÙŠØ±"
              required
            />
          </div>

          <div class="form-group">
            <label
              ><i class="fas fa-image"></i> Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø£Ùˆ Ø§Ù„Ù…Ù„Ù</label
            >
            <input
              type="url"
              id="scheduleUrl"
              placeholder="Ø¶Ø¹ Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù‡Ù†Ø§"
              required
            />
          </div>

          <button
            type="submit"
            class="upload-btn"
            style="grid-column: 1 / -1; background: var(--accent-purple)"
          >
            <i class="fas fa-check-double"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
          </button>
        </form>
      </section>

      <!-- Ù‚Ø³Ù… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª -->
      <section
        class="control-card animate__animated animate__fadeInUp"
        style="animation-delay: 0.3s; border-right: 4px solid var(--warning)"
      >
        <h2 class="section-title">
          <i class="fas fa-bullhorn" style="color: var(--warning)"></i>
          Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø© Ù‡Ø§Ù…Ø© (Ø¥Ø¹Ù„Ø§Ù†)
        </h2>
        <p style="color: #94a3b8; font-size: 0.9rem; margin-bottom: 20px">
          Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø³ØªØ¸Ù‡Ø± ÙÙŠ Ù…Ù†ØªØµÙ Ø§Ù„Ø´Ø§Ø´Ø© ÙƒØ¥Ø¹Ù„Ø§Ù† (Popup) Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŒ
          ÙˆØ³ØªØ¤Ø±Ø´Ù Ø£ÙŠØ¶Ø§Ù‹ ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© "Ø£Ù‡Ù… Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª".
        </p>

        <form id="announcementForm">
          <div class="form-group">
            <label
              ><i class="fas fa-comment-alt"></i> Ù†Øµ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø£Ùˆ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†</label
            >
            <textarea
              id="noteText"
              placeholder="Ø§ÙƒØªØ¨ Ù‡Ù†Ø§ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„ØªÙŠ ØªÙˆØ¯ Ø¸Ù‡ÙˆØ±Ù‡Ø§ Ù„Ù„Ø·Ù„Ø§Ø¨..."
              required
            ></textarea>
          </div>

          <button
            type="submit"
            class="upload-btn"
            style="background: var(--warning); color: #000"
          >
            <i class="fas fa-paper-plane"></i> Ù†Ø´Ø± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ©
          </button>
        </form>
      </section>

      <!-- Ù‚Ø³Ù… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´ÙˆØ± -->
      <hr
        style="
          border: 0;
          border-top: 1px solid rgba(255, 255, 255, 0.05);
          margin: 40px 0;
        "
      />

      <section>
        <h2
          style="
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
            color: var(--primary-blue);
          "
        >
          Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø´ÙˆØ±
        </h2>

        <div class="grid-layout">
          <!-- Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø¶Ø§ÙØ© -->
          <div class="control-card">
            <h3
              style="
                font-size: 1.2rem;
                margin-bottom: 15px;
                border-bottom: 1px solid #334155;
                padding-bottom: 10px;
              "
            >
              <i class="fas fa-table" style="color: var(--accent-purple)"></i>
              Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ù…Ø¶Ø§ÙØ©
            </h3>
            <div id="schedulesList" style="max-height: 400px; overflow-y: auto">
              <p style="color: #64748b; text-align: center; font-size: 0.9rem">
                Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„...
              </p>
            </div>
          </div>

          <!-- Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© -->
          <div class="control-card">
            <h3
              style="
                font-size: 1.2rem;
                margin-bottom: 15px;
                border-bottom: 1px solid #334155;
                padding-bottom: 10px;
              "
            >
              <i class="fas fa-comment-dots" style="color: var(--warning)"></i>
              Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            </h3>
            <div id="notesList" style="max-height: 400px; overflow-y: auto">
              <p style="color: #64748b; text-align: center; font-size: 0.9rem">
                Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª...
              </p>
            </div>
          </div>

          <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ -->
          <div class="control-card">
            <h3
              style="
                font-size: 1.2rem;
                margin-bottom: 15px;
                border-bottom: 1px solid #334155;
                padding-bottom: 10px;
              "
            >
              <i
                class="fas fa-folder-open"
                style="color: var(--primary-blue)"
              ></i>
              Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ
            </h3>
            <div id="itemsList" style="max-height: 400px; overflow-y: auto">
              <p style="color: #64748b; text-align: center; font-size: 0.9rem">
                Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰...
              </p>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>

    <script>
      /* =========================================
           Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
           ========================================= */
      const firebaseConfig = {
        apiKey: "AIzaSyA4_aX-sRYpzZITrt0fF82ONoeb4d71GUA",
        authDomain: "maath-library-2026.firebaseapp.com",
        projectId: "maath-library-2026",
        storageBucket: "maath-library-2026.firebasestorage.app",
        messagingSenderId: "667101666048",
        appId: "1:667101666048:web:220bcfef7157c9b369b1e5",
        measurementId: "G-Z5EE8PB9S0",
      };

      if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
      }
      const db = firebase.firestore();

      /* =========================================
           Ø¥Ø¶Ø§ÙØ© Ù…Ø­ØªÙˆÙ‰ ØªØ¹Ù„ÙŠÙ…ÙŠ
           ========================================= */
      document
        .getElementById("uploadForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const btn = e.target.querySelector("button");
          btn.disabled = true;
          btn.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...';

          const itemData = {
            name: document.getElementById("itemName").value,
            url: document.getElementById("itemUrl").value,
            type: document.getElementById("itemType").value,
            subject: document.getElementById("itemSubject").value,
            createdAt: firebase.firestore.FieldValue.serverTimestamp(),
          };

          try {
            await db.collection("files").add(itemData);
            alert("âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­!");
            e.target.reset();
          } catch (error) {
            console.error("Error:", error);
            alert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸!");
          } finally {
            btn.disabled = false;
            btn.innerHTML =
              '<i class="fas fa-cloud-upload-alt"></i> Ø­ÙØ¸ ÙˆÙ†Ø´Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰';
          }
        });

      /* =========================================
           Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
           ========================================= */
      document
        .getElementById("scheduleForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const btn = e.target.querySelector("button");
          btn.disabled = true;
          btn.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø±ÙØ¹...';

          const scheduleData = {
            title: document.getElementById("scheduleTitle").value,
            url: document.getElementById("scheduleUrl").value,
            createdAt: firebase.firestore.FieldValue.serverTimestamp(),
          };

          try {
            await db.collection("schedules").add(scheduleData);
            alert("âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!");
            e.target.reset();
          } catch (error) {
            alert("âŒ Ø®Ø·Ø£ ÙÙŠ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¯ÙˆÙ„!");
          } finally {
            btn.disabled = false;
            btn.innerHTML =
              '<i class="fas fa-check-double"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©';
          }
        });

      /* =========================================
           Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
           ========================================= */
      document
        .getElementById("announcementForm")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const btn = e.target.querySelector("button");
          btn.disabled = true;

          const noteData = {
            text: document.getElementById("noteText").value,
            createdAt: firebase.firestore.FieldValue.serverTimestamp(),
          };

          try {
            await db.collection("announcements").add(noteData);
            alert("âœ… ØªÙ… Ù†Ø´Ø± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ©!");
            e.target.reset();
          } catch (error) {
            alert("âŒ Ø®Ø·Ø£ ÙÙŠ Ù†Ø´Ø± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©!");
          } finally {
            btn.disabled = false;
            btn.innerHTML =
              '<i class="fas fa-paper-plane"></i> Ù†Ø´Ø± Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†ÙŠØ©';
          }
        });

      /* =========================================
           Ø¬Ù„Ø¨ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
           ========================================= */
      function loadAllData() {
        // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ
        db.collection("files")
          .orderBy("createdAt", "desc")
          .onSnapshot((snapshot) => {
            const itemsList = document.getElementById("itemsList");
            itemsList.innerHTML = "";
            snapshot.forEach((doc) => {
              const item = doc.data();
              itemsList.innerHTML += createAdminCard(
                doc.id,
                item.name,
                "files",
                item.type,
              );
            });
          });

        // Ø¬Ù„Ø¨ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„
        db.collection("schedules")
          .orderBy("createdAt", "desc")
          .onSnapshot((snapshot) => {
            const schedulesList = document.getElementById("schedulesList");
            schedulesList.innerHTML = "";
            snapshot.forEach((doc) => {
              const schedule = doc.data();
              schedulesList.innerHTML += createAdminCard(
                doc.id,
                schedule.title,
                "schedules",
              );
            });
          });

        // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
        db.collection("announcements")
          .orderBy("createdAt", "desc")
          .onSnapshot((snapshot) => {
            const notesList = document.getElementById("notesList");
            notesList.innerHTML = "";
            snapshot.forEach((doc) => {
              const note = doc.data();
              notesList.innerHTML += createAdminCard(
                doc.id,
                note.text,
                "announcements",
              );
            });
          });
      }

      /* =========================================
           Ø¥Ù†Ø´Ø§Ø¡ ÙƒØ§Ø±Øª Ø§Ù„Ø¹Ø±Ø¶
           ========================================= */
      function createAdminCard(id, title, collectionName, type = "") {
        let icon = "fa-file-alt";
        let color = "var(--primary-blue)";

        if (collectionName === "schedules") {
          icon = "fa-calendar-alt";
          color = "var(--accent-purple)";
        }
        if (collectionName === "announcements") {
          icon = "fa-bullhorn";
          color = "var(--warning)";
        }

        return `
                <div class="data-item">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas ${icon}" style="color: ${color};"></i>
                        <span style="font-size: 0.9rem; max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">${title}</span>
                    </div>
                    <button onclick="deleteItem('${collectionName}', '${id}')" class="delete-btn">
                        <i class="fas fa-trash-alt"></i>
                    </button>
                </div>
            `;
      }

      /* =========================================
           Ø­Ø°Ù Ø§Ù„Ø¹Ù†ØµØ±
           ========================================= */
      async function deleteItem(collectionName, id) {
        if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ± Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹ØŸ ğŸ—‘ï¸")) {
          try {
            await db.collection(collectionName).doc(id).delete();
            alert("âœ… ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­!");
          } catch (error) {
            alert("âŒ ÙØ´Ù„ Ø§Ù„Ø­Ø°Ù!");
          }
        }
      }

      // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¬Ù„Ø¨ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
      window.onload = loadAllData;
    </script>
  </body>
</html>
